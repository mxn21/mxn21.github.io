---
layout: post
author: mxn
title: android 内存泄漏分析
category: 技术博文
tag: [android]
---

### 什么是内存泄漏

一些对象有着有限的生命周期。当这些对象所要做的事情完成了，我们希望他们会被回收掉。但是如果有一系列对这个对象的引用，那么在这个对象生命周期结束的时候，它是不会被回收的。它还会占用内存，这就造成了内存泄露。持续累加，内存很快被耗尽。

比如，当 Activity.onDestroy 被调用之后，activity 以及它涉及到的 view 和相关的 bitmap 都应该被回收。但是，如果有一个后台线程持有这个 activity 的引用，那么 activity 对应的内存就不能被回收。这最终将会导致内存耗尽，然后因为 OOM 而 crash。


### 内存泄漏的原因

#### 非静态内部类的静态实例容易造成内存泄漏

#### activity使用静态成员
#### 使用handler时的内存问题
#### 注册某个对象后未反注册
#### 集合中对象没清理造成的内存泄露

#### 资源对象没关闭造成的内存泄露




### 如何查找内存泄漏 
